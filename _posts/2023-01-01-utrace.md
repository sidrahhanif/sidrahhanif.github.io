---
layout: post
title: Strokes Trajectory Recovery for Unconstrained Handwritten Documents with Automatic Evaluation
cover-img: /assets/img/utrace.jpg
---

Handwriting Stroke Trajectory Recovery (STR) facilitates the tasks such as handwriting recognition and synthesis. For English handwriting, the previous STR algorithms deal only with line-level text. Moreover, the existing STR datasets provide only line-level or page-level annotations with missing word-level annotations. However, the hand- written text does not always constitute lines or fixed orientation. There- fore, we propose to construct the word-level annotation with each wordâ€™s bounding box and stroke coordinates for the existing STR datasets. In our work, we propose to utilize a weakly supervised word detector for handwritten text to separate the word-level stroke coordinates for each word. Secondly, STR is a sequence learning problem from image to handwriting stroke sequences where Dynamic Time Warping (DTW) is a preferred loss function. DTW loss aligns the two varying length sequences and ac- cumulates the differences between predicted and ground-truth strokes. As a result, it penalizes the alignment of close-by and far-off points pro- portional to the distance. Because of uniform weighting, The DTW loss cannot distinguish between alignments that result in a small number of perceptually significant errors and a large number of visually insignifi- cant errors. To address this issue, we propose aligning the predicted and ground-truth sequences with Gaussian weighting in the cost matrix of DTW loss such that the far-off predicted strokes from ground truth are penalized more heavily. The proposed framework with word-level STR datasets and Gaussian weighting in DTW alignment allows us to scale STR to full-page handwritten text and improve quantitative and quali- tative results.
